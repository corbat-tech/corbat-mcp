### Corbat MCP - HTTP Examples
### These examples show how to test MCP tools using HTTP requests
### Note: MCP uses JSON-RPC over stdio, these are conceptual examples

### ============================================
### Health Check
### ============================================

### Check server health status
# @name healthCheck
POST http://localhost:3000/rpc HTTP/1.1
Content-Type: application/json

{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "tools/call",
  "params": {
    "name": "health",
    "arguments": {}
  }
}

### ============================================
### Profile Operations
### ============================================

### List all available profiles
# @name listProfiles
POST http://localhost:3000/rpc HTTP/1.1
Content-Type: application/json

{
  "jsonrpc": "2.0",
  "id": 2,
  "method": "tools/call",
  "params": {
    "name": "profiles",
    "arguments": {}
  }
}

### ============================================
### Get Context (Primary Tool)
### ============================================

### Get full context for a feature task
# @name getContextFeature
POST http://localhost:3000/rpc HTTP/1.1
Content-Type: application/json

{
  "jsonrpc": "2.0",
  "id": 3,
  "method": "tools/call",
  "params": {
    "name": "get_context",
    "arguments": {
      "task": "Create a payment service with Stripe integration"
    }
  }
}

### Get context for a bugfix task
# @name getContextBugfix
POST http://localhost:3000/rpc HTTP/1.1
Content-Type: application/json

{
  "jsonrpc": "2.0",
  "id": 4,
  "method": "tools/call",
  "params": {
    "name": "get_context",
    "arguments": {
      "task": "Fix null pointer in OrderService.calculateTotal"
    }
  }
}

### Get context for a refactor task
# @name getContextRefactor
POST http://localhost:3000/rpc HTTP/1.1
Content-Type: application/json

{
  "jsonrpc": "2.0",
  "id": 5,
  "method": "tools/call",
  "params": {
    "name": "get_context",
    "arguments": {
      "task": "Refactor UserRepository to use the new database layer"
    }
  }
}

### Get context with specific project directory
# @name getContextWithDir
POST http://localhost:3000/rpc HTTP/1.1
Content-Type: application/json

{
  "jsonrpc": "2.0",
  "id": 6,
  "method": "tools/call",
  "params": {
    "name": "get_context",
    "arguments": {
      "task": "Add user authentication",
      "project_dir": "/path/to/your/project"
    }
  }
}

### ============================================
### Validate Code
### ============================================

### Validate a Java class
# @name validateJavaClass
POST http://localhost:3000/rpc HTTP/1.1
Content-Type: application/json

{
  "jsonrpc": "2.0",
  "id": 7,
  "method": "tools/call",
  "params": {
    "name": "validate",
    "arguments": {
      "code": "public class UserService {\n  private final UserRepository userRepository;\n  \n  public UserService(UserRepository userRepository) {\n    this.userRepository = userRepository;\n  }\n  \n  public User createUser(String name, String email) {\n    var user = new User(name, email);\n    return userRepository.save(user);\n  }\n}"
    }
  }
}

### Validate a test class
# @name validateTestClass
POST http://localhost:3000/rpc HTTP/1.1
Content-Type: application/json

{
  "jsonrpc": "2.0",
  "id": 8,
  "method": "tools/call",
  "params": {
    "name": "validate",
    "arguments": {
      "code": "@Test\nvoid shouldCreateUser() {\n  // Arrange\n  var name = \"John\";\n  var email = \"john@example.com\";\n  \n  // Act\n  var user = userService.createUser(name, email);\n  \n  // Assert\n  assertThat(user.getName()).isEqualTo(name);\n}",
      "task_type": "test"
    }
  }
}

### ============================================
### Search Standards
### ============================================

### Search for Kafka documentation
# @name searchKafka
POST http://localhost:3000/rpc HTTP/1.1
Content-Type: application/json

{
  "jsonrpc": "2.0",
  "id": 9,
  "method": "tools/call",
  "params": {
    "name": "search",
    "arguments": {
      "query": "kafka"
    }
  }
}

### Search for testing documentation
# @name searchTesting
POST http://localhost:3000/rpc HTTP/1.1
Content-Type: application/json

{
  "jsonrpc": "2.0",
  "id": 10,
  "method": "tools/call",
  "params": {
    "name": "search",
    "arguments": {
      "query": "testing"
    }
  }
}

### Search for Docker documentation
# @name searchDocker
POST http://localhost:3000/rpc HTTP/1.1
Content-Type: application/json

{
  "jsonrpc": "2.0",
  "id": 11,
  "method": "tools/call",
  "params": {
    "name": "search",
    "arguments": {
      "query": "docker"
    }
  }
}

### Search for hexagonal architecture
# @name searchHexagonal
POST http://localhost:3000/rpc HTTP/1.1
Content-Type: application/json

{
  "jsonrpc": "2.0",
  "id": 12,
  "method": "tools/call",
  "params": {
    "name": "search",
    "arguments": {
      "query": "hexagonal architecture"
    }
  }
}

### Search for SOLID principles
# @name searchSOLID
POST http://localhost:3000/rpc HTTP/1.1
Content-Type: application/json

{
  "jsonrpc": "2.0",
  "id": 13,
  "method": "tools/call",
  "params": {
    "name": "search",
    "arguments": {
      "query": "SOLID principles"
    }
  }
}
